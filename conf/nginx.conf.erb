# Set another default user than root for security reasons
user       www www;
worker_processes 3;
daemon off;

worker_rlimit_nofile 8192;

events {
  worker_connections  8000;
}

http {

  default_type  application/octet-stream;
  server_name_in_redirect off;

  server {
    listen <%= ENV['PORT'] %>;
    server_name  apps.abhishekmunie.com;
    return 301 https://abhishekmunie.com/Apps$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  astronomy.abhishekmunie.com;
    return 301 https://www.facebook.com/abhishekmunie.astronomy$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  beta.abhishekmunie.com;
    return 301 https://nightly.abhishekmunie.com$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  chemistry.abhishekmunie.com;
    return 301 https://www.facebook.com/abhishekmunie.chemistry$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  computer.abhishekmunie.com;
    return 301 https://www.facebook.com/abhishekmunie.computer$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  connect.abhishekmunie.com socialnetworks.abhishekmunie.com;
    return 301 https://abhishekmunie.com/SocialNetworks$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  mathematics.abhishekmunie.com;
    return 301 https://www.facebook.com/abhishekmunie.mathematics$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  me.abhishekmunie.com;
    return 301 https://abhishekmunie.com/Abhishek$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  mysite.abhishekmunie.com;
    return 301 https://abhishekmunie.com/mySite$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  physics.abhishekmunie.com;
    return 301 https://www.facebook.com/abhishekmunie.physics$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  science.abhishekmunie.com;
    return 301 https://abhishekmunie.com/Science$request_uri;
  }

  ## abhishekmunie.com aliases redirects

  server {
    listen <%= ENV['PORT'] %>;
    server_name  ~^(?<subdomain>.+\.)abhishekmunie\..+$;
    return 301 https://$subdomainabhishekmunie.com$request_uri;
  }

  ## aseinc.cf aliases redirects

  server {
    listen <%= ENV['PORT'] %>;
    server_name  ~^(?<subdomain>.+)\.aseinc\.ga$;
    return 301 $scheme://$subdomain.aseinc.com$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  aseinc.ga;
    return 301 $scheme://aseinc.com$request_uri;
  }
  server {
    listen <%= ENV['PORT'] %>;
    server_name  ~^(?<subdomain>.+)\.aseinc\.ml$;
    return 301 $scheme://$subdomain.aseinc.com$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  aseinc.ml;
    return 301 $scheme://aseinc.com$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  ~^(?<subdomain>.+)\.aseinc\.tk$;
    return 301 $scheme://$subdomain.aseinc.com$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  aseinc.tk;
    return 301 $scheme://aseinc.com$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  ~^(?<subdomain>.+)\.ase-inc\.cf$;
    return 301 $scheme://$subdomain.ase-inc.com$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  ase-inc.cf;
    return 301 $scheme://ase-inc.com$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  ~^(?<subdomain>.+)\.ase-inc\.ga$;
    return 301 $scheme://$subdomain.ase-inc.com$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  ase-inc.ga;
    return 301 $scheme://ase-inc.com$request_uri;
  }
  server {
    listen <%= ENV['PORT'] %>;
    server_name  ~^(?<subdomain>.+)\.ase-inc\.ml$;
    return 301 $scheme://$subdomain.ase-inc.com$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  ase-inc.ml;
    return 301 $scheme://ase-inc.com$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  ~^(?<subdomain>.+)\.ase-inc\.tk$;
    return 301 $scheme://$subdomain.ase-inc.com$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  ase-inc.tk;
    return 301 $scheme://ase-inc.com$request_uri;
  }

  ## section9.cf aliases redirects

  server {
    listen <%= ENV['PORT'] %>;
    server_name  ~^(?<subdomain>.+)\.section9\.ga$;
    return 301 $scheme://$subdomain.section9.com$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  section9.ga;
    return 301 $scheme://section9.com$request_uri;
  }
  server {
    listen <%= ENV['PORT'] %>;
    server_name  ~^(?<subdomain>.+)\.section9\.ml$;
    return 301 $scheme://$subdomain.section9.com$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  section9.ml;
    return 301 $scheme://section9.com$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  ~^(?<subdomain>.+)\.section9\.tk$;
    return 301 $scheme://$subdomain.section9.com$request_uri;
  }

  server {
    listen <%= ENV['PORT'] %>;
    server_name  section9.tk;
    return 301 $scheme://section9.com$request_uri;
  }

  ## www to root redirects
  server {
    listen <%= ENV['PORT'] %>;
    server_name  ~^(www\.)?(.+)$;
    return 301 $scheme://$2;
  }
}
